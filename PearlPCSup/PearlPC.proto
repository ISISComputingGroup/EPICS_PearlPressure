OutTerminator = "\r";
InTerminator = "\r\n";

ReplyTimeout = 2000;

## read into waveform as device returns 16 integers
get_st_array {
	out "st";
	in "Status Report";
	in "%*/Inputs$/";
	in "%d";
	in "OK";
}

set_ra{
	out "ra%#04d"
}

set_mx{
	out "mx%#04d"
}

set_mn{
	out "mn%#04d"
}

set_sp{
	out "sp%#04d"
}

set_sf{
	out "sf%#04d"
}

set_si{
	out "si%#04d"
}

set_sd{
	out "sd%#04d"
}

set_sloop{
	out "sloop%#01d"
}

set_user_limit{
    out "ul%#04d"
}

get_id {
	ExtraInput = Ignore;
	out "id";
	in "%/[0-9]{4} [0-9]{4}/";
}

reset {
	out "reset"
}

run {
	out "run"
}

stop {
	out "stop"
}

## $1 argument zero padded 4 digits
get_memory{
	ExtraInput = Ignore;
	out "vr\$1";
	in "vr%*04d %d";
}

reset_error {
    out "er"
}